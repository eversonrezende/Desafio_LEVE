@page
@model Desafio.Leve.Web.Pages.IndexModel
@using Microsoft.AspNetCore.Authorization
@{
    ViewData["Title"] = "Dashboard";
}

<div class="uk-section uk-section-default">
    <div class="uk-container">
        <article class="uk-article">
            <h1 class="uk-article-title">
                <span uk-icon="icon: home; ratio: 1.5"></span>
                Bem-vindo ao Sistema LEVE
            </h1>

            <p class="uk-article-meta">
                Usuário: <strong>@User.Identity?.Name</strong>
                @if (User.IsInRole("Gestor"))
                {
                    <span class="uk-label uk-label-success">Gestor</span>
                }
                else
                {
                    <span class="uk-label">Subordinado</span>
                }
            </p>

            <div class="uk-grid-match uk-child-width-1-3@m uk-margin-medium-top" uk-grid>
                @if (User.IsInRole("Gestor"))
                {
                    <div>
                        <div class="uk-card uk-card-default uk-card-body uk-card-hover">
                            <h3 class="uk-card-title">
                                <span uk-icon="icon: users; ratio: 1.2"></span>
                                Usuários
                            </h3>
                            <p>Gerencie usuários do sistema, crie novos gestores e subordinados.</p>
                            <a class="uk-button uk-button-primary uk-width-1-1" asp-page="/Users/Index">
                                Gerenciar Usuários
                            </a>
                        </div>
                    </div>

                    <div>
                        <div class="uk-card uk-card-default uk-card-body uk-card-hover">
                            <h3 class="uk-card-title">
                                <span uk-icon="icon: plus-circle; ratio: 1.2"></span>
                                Nova Tarefa
                            </h3>
                            <p>Crie e atribua tarefas aos membros da sua equipe.</p>
                            <a class="uk-button uk-button-primary uk-width-1-1" asp-page="/Tasks/Create">
                                Criar Tarefa
                            </a>
                        </div>
                    </div>
                }

                <div>
                    <div class="uk-card uk-card-default uk-card-body uk-card-hover">
                        <h3 class="uk-card-title">
                            <span uk-icon="icon: list; ratio: 1.2"></span>
                            Minhas Tarefas
                        </h3>
                        <p>Visualize e gerencie suas tarefas atribuídas.</p>
                        <a class="uk-button uk-button-primary uk-width-1-1" asp-page="/Tasks/Index">
                            Ver Tarefas
                        </a>
                    </div>
                </div>
            </div>
        </article>
    </div>
</div>